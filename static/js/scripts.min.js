function isVisible(t){var a=$(t),e=$(window),i=e.scrollTop(),s=i+e.height(),r=a.offset().top,o=r+a.height();return s>=o&&r>=i}function animateProgress(){$(".meter > span").each(function(){isVisible($(this))&&$(this).attr("data-progress")>0&&($(this).animate({height:$(this).attr("data-progress")+"%"},1500),animateCounter($(this)),$(this).attr("data-progress","0"))})}function animateCounter(t){var a=$("#"+$(t).attr("data-app")+"Complete"),e=$(t).attr("data-progress");jQuery({Counter:0}).animate({Counter:e},{duration:1500,easing:"swing",step:function(){a.html("Complete: "+Math.ceil(this.Counter)+"%")}})}function formatDate(t){var a=t.substring(0,10),e=a.split("-"),i=e[2]+"-"+e[1]+"-"+e[0];return i}function updateXML(){if($("#xml").length>0){var t=vkbeautify.xml($("#xml2").html()),a=new RegExp("\n","g");$("#xml").html(t.replace(a,"<br>"))}}function recordIP(){$.ajax("/blplugin/record_ip")}function fillArc(t){$(".arc-q"+t).addClass("full")}function partialFillArc(t,a){var e=3.6*(25-a),i=90;switch(t){case 2:i=180;break;case 3:i=270;break;case 4:i=360}$(".arc-q"+t).css({"-moz-transform":"rotate("+i+"deg) skewX("+e+"deg)","-webkit-transform":"rotate("+i+"deg) skewX("+e+"deg)","-ms-transform":"rotate("+i+"deg) skewX("+e+"deg)","-o-transform":"rotate("+i+"deg) skewX("+e+"deg)",transform:"rotate("+i+"deg) skewX("+e+"deg)"}),$(".arc-q"+t).addClass("percent"+(25-a))}function styleNavigation(){$(".splash").length>0&&$(window).width()>991&&$(this).scrollTop()<100?($(".navbar").removeClass("opaque"),$(".dropdown-menu").removeClass("opaque"),$("#navbar-logo").attr("src",$("#logo-white").attr("data-src"))):($(".navbar").addClass("opaque"),$(".dropdown-menu").addClass("opaque"),$("#navbar-logo").attr("src",$("#logo-black").attr("data-src"))),$(".navbar-default")[0].offsetHeight,$(".navbar-default").removeClass("notransition")}function bytesToSize(t){if(0==t)return"0 Bytes";if(1==t)return"1 Byte";var a=1e3,e=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(t)/Math.log(a));return(t/Math.pow(a,i)).toPrecision(3)+" "+e[i]}function sameSize(){var t=0;$(".row .same-size").height(""),$(".row .same-size").each(function(a,e){t=Math.max(t,$(e).height())}),$(".row .same-size").height($(window).width()>991?t:t+50);var a=0;$(".well").height(""),$(".well").each(function(t,e){a=Math.max(a,$(e).height())}),$(".well").height(a)}$(function(){var t=$(".glowing-link");setInterval(function(){t.hasClass("glow")?t.removeClass("glow"):t.addClass("glow")},2e3);var a=$(".splash").attr("data-splash");if("undefined"!=typeof a&&a!==!1&&$(".splash").css({"background-image":"url("+a+")"}),$(".btn-circle-progress").length){var e=$(".btn-circle-progress").attr("data-progress");e>=100?(fillArc(1),fillArc(2),fillArc(3),fillArc(4),$(".btn-circle-progress").removeAttr("href"),$(".btn-circle-progress p").html('<i class="fa fa-thumbs-up fa-4x"></i>')):e>=75?(fillArc(1),fillArc(2),fillArc(3),partialFillArc(4,e-75)):e>=50?(fillArc(1),fillArc(2),partialFillArc(3,e-50)):e>25?(fillArc(1),partialFillArc(2,e-25)):partialFillArc(1,e)}updateXML(),$(".btn-album").each(function(){$(this).off("click").on("click",function(){document.getElementById("album_id").value=$(this).attr("id"),document.location.href="#album_id"})}),$(".format-date").each(function(){$(this).html(formatDate($(this).attr("data-date")))}),$(".set-main-bg").length>0&&$("body").addClass($(".set-main-bg").attr("data-bg")),$(".CodeMirror-gutter").length&&$("#code-btns").attr("padding-left",$(".CodeMirror-gutter").attr("width")),$(".polaroids .polaroid:nth-child(even)").addClass("even"),$("ul.polaroids div:nth-child(even) .polaroid").addClass("even"),$(".fa-download").each(function(){var t=$(this).attr("data-filesize");"undefined"!=typeof t&&t!==!1&&$(this).html("<small> ("+bytesToSize(t)+")</small>")}),history.length>1?$("#btnBack").show():$("#btnHome").show(),animateProgress(),sameSize(),styleNavigation()}),$(window).scroll(function(){styleNavigation(),animateProgress()}),$(window).on("resize",function(){sameSize(),animateProgress(),styleNavigation()}).resize(),$(".upload-img-form").submit(function(){$("#upload-btn").html('<i class="glyphicon glyphicon-refresh spinning"></i> Uploading'),$("#upload-btn").blur()}),$("a.avatar-popover").popover({html:!0,animation:!0,trigger:"hover",placement:"top"}),$(".edit-profile-image").on("click",function(){$("#avatar").click()}),$(".anchor-btn").click(function(t){t.preventDefault();var a=$(this).attr("data-anchor");$("html, body").animate({scrollTop:$(a).offset().top-40},1e3)}),$("#search-catalogue-again").click(function(t){t.preventDefault(),$("#catalogue-results").slideUp(),$("#catalogue-form").slideDown()}),$("#admin-options").click(function(t){t.preventDefault();var a=$(this).attr("class");$(".bs-docs-sidenav .nav-link > a").removeClass("active"),$(this).attr("class",a),$(this).toggleClass("active"),$("#project-menu").slideUp(),$("#web-service-menu").slideUp(),$("#admin-menu").slideToggle("fast",function(){})}),$("#project-options").click(function(t){t.preventDefault();var a=$(this).attr("class");$(".bs-docs-sidenav .nav-link > a").removeClass("active"),$(this).attr("class",a),$(this).toggleClass("active"),$("#admin-menu").slideUp(),$("#web-service-menu").slideUp(),$("#project-menu").slideToggle("fast",function(){})}),$("#web-service-options").click(function(t){t.preventDefault();var a=$(this).attr("class");$(".bs-docs-sidenav .nav-link > a").removeClass("active"),$(this).attr("class",a),$(this).toggleClass("active"),$("#admin-menu").slideUp(),$("#project-menu").slideUp(),$("#web-service-menu").slideToggle("fast",function(){})}),$("#ckan > a").off("click").on("click",function(){$("#loading").show()}),$("a[rel=tooltip]").tooltip(),$("#import").off("click").on("click",function(){$("#loading").show()});