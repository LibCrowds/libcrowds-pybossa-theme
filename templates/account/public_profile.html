{% extends "base.html" %}
{% set active_page = "account" %}
{% import "account/_helpers.html" as helper %}
{% from "projects/_helpers.html" import render_grid_projects, broken_image %}
{% import "privacy/locked.html" as privacy %}

{% block content %}

{% if enforce_privacy and (current_user.is_anonymous() or (current_user.is_authenticated and not current_user.admin)) %}
    {{ privacy.render_lock_page() }}
{% else %}
<span class="set-body-bg" data-bg="pattern-white-wall"></span>
<div class="container-main">
    <section class="container">
        {% include "_flash_messages.html" %}
        {{ helper.render_user_profile(user, upload_method, settings=False, private=False) }}
    </section>

    {% if projects %}
    <section id="contributed-projects" class="white pattern-white-wall inset-shadow-top">
         {{render_grid_projects(projects, "Contributions", upload_method)}}
    </section>
    {% endif %}
</div>
{% endif %}

{{ broken_image() }}
{% endblock %}
