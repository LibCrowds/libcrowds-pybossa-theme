{% extends "base.html" %}
{% set active_page = "help" %}

{% block content %}
{% if not project_id %}
{% set project_id=1 %}
{% endif %}
<div class="container-padded">
    <div class="container container-padded">
        <div class="row">
            <div class="col-sm-12">

                <h1>{{brand}}: API Help</h1>
                <p>
                    {{brand}} has a <a href="http://en.wikipedia.org/wiki/Representational_state_transfer">RESTful API</a>
                    that can be used for getting information about tasks, submitting contributions, etc.
                    The API end point is available at:
                </p>
                <ul>
                    <li><a href="{{url_for('api.index')}}">{{url_for('api.index', _external=True)}}</a></li>
                </ul>

                <h2>Projects API end point</h2>
                <p>To get a list of available projects:</p>
                <ul>
                    <li><a href="{{url_for('api.api_project')}}">{{url_for('api.api_project', _external=True)}}</a></li>
                </ul>
                <p>To search for a specific project:</p>
                <ul>
                    <li><a href="{{url_for('api.api_project', short_name='pinyincardcatalogue')}}">{{url_for('api.api_project', short_name='pinyincardcatalogue', _external=True)}}</a></li>
                </ul>
                <hr>

                <h2>Tasks API end point</h2>
                <p>To get a list of available tasks:</p>
                <ul>
                    <li><a href="{{url_for('api.api_task')}}">{{url_for('api.api_task', _external=True)}}</a></li>
                </ul>
                <p>To get the tasks for a given project:</p>
                <ul>
                    <li><a href="{{url_for('api.api_task', project_id=project_id)}}">{{url_for('api.api_task', project_id=project_id, _external=True)}}</a></li>
                </ul>
                <p>Or, to get a list of completed tasks for a given project:</p>
                <ul>
                    <li><a href="{{url_for('api.api_task', project_id=project_id, state='completed')}}">{{url_for('api.api_task', project_id=project_id,  state='completed', _external=True)}}</a></li>
                </ul>
                <hr>

                <h2>Task Runs API end point</h2>
                <p>To get a list of contributions:
                </p>
                <ul>
                    <li><a href="{{url_for('api.api_taskrun')}}">{{url_for('api.api_taskrun', _external=True)}}</a></li>
                </ul>
                <p>To get the contributions for a given project:</p>
                <ul>
                    <li><a href="{{url_for('api.api_taskrun', project_id=project_id)}}">{{url_for('api.api_taskrun', project_id=project_id, _external=True)}}</a></li>
                </ul>
                <hr>
                <p>
                    <strong>Note: </strong>GET actions are limited to only 20 items by default,
                    you can use <em>limit</em> and <em>offset</em> to tune the number of results.
                    For further information read the <a href="http://docs.pybossa.com/en/latest/api.html">documentation</a>.
                </p>
                <p>
                    For more information about the API please, see the <a href="http://docs.pybossa.com/en/latest/api.html">PyBossa documentation</a> and the <a href="http://docs.pybossa.com/en/latest/user/tutorial.html">step by step tutorial</a>.
                </p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
